{% extends "websitebase.html" %}

{% block websitebody %}
<div class="page-header">
    <blockquote>
        <p class="lead">用户管理</p>
    </blockquote>
</div>

<ol class="breadcrumb">
  <li><a href="/website/adminuser/">用户管理</a></li>
</ol>

<div class="panel panel-default">
  <div class="panel-body">
      <form class="form-inline" method="GET" role="form">
            <div class="form-group">
                <label for="basic-rule" class="flable">角色</label>
                <select id="basic-rule" name="rulename" class="form-control">
                    <option value="">全部</option>
                    {% for role in role_options %}
                        <option value={{ role.id }}>{{ role.Rolename }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group">
                <label for="basic-username" class="flable">昵称</label>
                <input name="username" id="basic-username" type="text" class="form-control" aria-describedby="basic-username" placeholder="请输入用户名关键字...">
            </div>
            <button class="btn btn-default" type="submit"><span class="glyphicon glyphicon-search" aria-hidden="true"></span>&nbsp&nbsp搜索</button>
      </form>
  </div>
</div>



<div class="panel panel-default">
  <div class="panel-body">
      <table class="table table-striped table-bordered">
          <thead>
            <tr>
                <td><input type="checkbox" id="allcb"></td>
                <td>用户名</td>
                <td>昵称</td>
                <td>角色</td>
                <td>状态</td>
            </tr>
          </thead>
        <tbody>
            {% for arule in rule_list %}
                <tr>
                    <td><input class="ncheck" type="checkbox" value="{{ product.id }}"></td>
                    <td>{{ arule.Userid.userid }}</td>
                    <td class="webusername"><a href="/website/adminuser/{{ arule.Userid.id }}">{{ arule.Userid.Username }}</a></td>
                    <td>{{ arule.Roleid.Rolename }}</td>
                    <td>{{ arule.Userid.get_Userstatus_display }}</td>
                </tr>
            {% endfor %}
        </tbody>
      </table>

          {% if rule_list %}
          <nav class="mypagination" aria-label="Page navigation">
              <ul class="pagination">
                  {% if rule_list.has_previous %}
                  <li>
                      <a href="?page={{ rule_list.previous_page_number }}&rulename={{ ruleid }}&username={{ username }}" aria-label="Previous">
                          <span aria-hidden="true">&laquo;</span>
                      </a>
                  </li>
                  {% else %}
                  <li class="disabled">
                      <a class="disabled" href="#" aria-label="Previous">
                          <span aria-hidden="true">&laquo;</span>
                      </a>
                  </li>
                  {% endif %}
                  {% for p in pagelist %}
                  {% if p == rule_list.number  %}
                  <li class="active" ><a href="#">{{ p }}</a></li>
                  {% else %}
                  <li><a href="?page={{ p }}&rulename={{ ruleid }}&username={{ username }}">{{ p }}</a></li>
                  {% endif %}
                  {% endfor %}
                  {% if rule_list.has_next %}
                  <li>
                      <a href="?page={{ rule_list.next_page_number }}&rulename={{ ruleid }}&username={{ username }}" aria-label="Next">
                          <span aria-hidden="true">&raquo;</span>
                      </a>
                  </li>
                  {% else %}
                  <li class="disabled">
                      <a class="disabled" href="#" aria-label="Next">
                          <span aria-hidden="true">&raquo;</span>
                      </a>
                  </li>
                  {% endif %}
              </ul>
          </nav>
    {% endif %}
  </div>
</div>



{% endblock %}

